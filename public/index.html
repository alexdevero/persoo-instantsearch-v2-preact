<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Persoo Instant Search example</title>
  <!-- <title><% preact.title %></title> -->

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <meta name="description" content="preact-boilerplate">
  <meta name="msapplication-TileColor" content="#673ab8">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="preact-boilerplate">
  <meta name="application-name" content="preact-boilerplate">
  <meta name="format-detection" content="telephone=no">
  <meta name="theme-color" content="#673ab8">

  <link rel="manifest" href="/manifest.json">
  <link rel="shortcut icon" href="/favicon.ico">

  <% preact.headEnd %>

  <script type='text/javascript'>
    /* Persoo account for testing real requests */
    dataLayer = [{
      pageType: 'search'
    }];

    var persooConfig = {
      // apikey: 'n6i5ne3i0p2tkkvm1275lapv',  // hanibal.cz (production)
      apikey: 'g8i7fdao17r5fpn2u72ph4rd',     // hanibal.cz (test-a clone)
      persooName: 'persoo',
      dataLayerName: 'dataLayer',
      settings_tolerance: 2000,  // for loading persoo.js
      personalizations_tolerance: 2500,    // for showing personalizations
      rtpHostname: "rtp-test-a.persoo.cz",
      scriptsHostname: "//s3-eu-west-1.amazonaws.com/cz.persoo.test-a.javascripts/"
    };

    /*! Persoo js client 2015-03-16 */
    var persooLoader=function(a,b,c,d,e){var f=d.persooName,g='_persoo_hide_body';return{hideBody:
    function(){var b=a.createElement('style'),c='body{opacity:0 !important;filter:alpha(opacity=0)'
    +' !important;background:none !important;}',d=a.getElementsByTagName('head')[0];b.setAttribute(
    'id',g),b.setAttribute('type','text/css'),b.styleSheet?b.styleSheet.cssText=c:b.appendChild(
    a.createTextNode(c)),d.appendChild(b)},finish:function(){if(!c){c=!0;var b=a.getElementById(g);b&&
    b.parentNode.removeChild(b)}},loadScript:function(b){var c=a.createElement('script');c.src=b,c.type
    ='text/javascript',c.onerror=function(){persooLoader.finish()},a.getElementsByTagName('head')[0
    ].appendChild(c)},init:function(){b[f]=b[f]||function(){(b[f].q=b[f].q||[]).push([].slice.call(
    arguments))},b[f].l=1*new Date,b[f].apikey=d.apikey,b[f].dataLayerName=d.dataLayerName;var c=
    a.cookie.match('(^|; )'+e+'=([^;]*)'),g=location.search.match('[?&]'+e+'=([^&]*)'),h=g?g[1]:c?c[2]:
    'p';d.settings_tolerance>0&&(setTimeout(this.finish,d.settings_tolerance),this.hideBody());var i=(
    d.scriptsHostname||'//scripts.persoo.cz/')+d.apikey+'/'+h;this.loadScript(i+'/actions.js'),
    this.loadScript(i+'/persoo.js')}}}(document,window,!1,persooConfig,'persooEnvironment');persooLoader.init();
  </script>
</head>
<body>
  <div class="wrapper">
    <h2>Persoo demo:</h2>

    <div class="container">
      <div class="left-panel">
        <div id="persoo-filters-toggle">
          Filtry
        </div>

        <h3>Categories</h3>

        <div id="persoo-hierarchical-menu"></div>

        <!-- <h3>Refinement list with panel</h3>

        <div id="refinement-list-with-panel"></div> -->

        <h3>Refinement list</h3>

        <div id="persoo-refinement-list"></div>

        <h3>Menu</h3>

        <div id="persoo-menu"></div>

        <h3>Menu select</h3>

        <div id="persoo-menu-select"></div>

        <h3>Menu select custom</h3>

        <div id="persoo-menu-select-custom"></div>

        <h3>Toggle refinement</h3>

        <div id="persoo-toggle-refinement"></div>

        <h3>Numeric menu</h3>

        <div id="persoo-numeric-menu"></div>

        <h3>Range slider</h3>

        <div id="persoo-range-slider"></div>

        <h3>Range slider - temperature</h3>

        <div id="persoo-range-slider-temperature"></div>

        <h3>Range input</h3>

        <div id="persoo-range-input"></div>

        <h3>Rating menu</h3>

        <div id="persoo-rating-menu"></div>
      </div>

      <div class="right-panel">
        <div class="right-panel__results">
          <div id="persoo-searchbox"></div>

          <div id="persoo-powered-by"></div>

          <div class="search-meta-filters">
            <div>
              <h5>Stats</h5>
              <div id="persoo-stats"></div>
            </div>

            <div>
              <h5>Hits per page</h5>
              <div id="persoo-hits-per-page"></div>
            </div>

            <div>
              <h5>Custom hits per page</h5>
              <div id="persoo-hits-per-page-custom"></div>
            </div>

            <div>
              <h5>Sort by</h5>
              <div id="persoo-sort-by"></div>
            </div>

            <div>
              <h5>Custom sort by</h5>
              <div id="persoo-sort-by-custom"></div>
            </div>
          </div>

          <div class="search-meta-filters">
            <div>
              <h5>Clear refinements</h5>
              <div id="persoo-clear-refinements"></div>
            </div>

            <div>
              <h5>Current refinements</h5>
              <div id="persoo-current-refinements"></div>
            </div>
          </div>

          <div id="persoo-hits"></div>
        </div>

        <div id="persoo-pagination"></div>
      </div>
    </div>

    <div style="display: none;">
      <h2>Algolia demo:</h2>

      <div class="container">
        <div class="left-panel">
          <div id="algolia-filters-toggle">
            Filtry
          </div>

          <!-- <h3>Categories</h3>

          <div id="algolia-hierarchical-menu"></div> -->

          <!-- <h3>Refinement list with panel</h3>

          <div id="refinement-list-with-panel"></div> -->

          <h3>Refinement list</h3>

          <div id="algolia-refinement-list"></div>

          <!-- <h3>Menu select</h3>

          <div id="algolia-menu-select"></div> -->

          <!-- <h3>Menu select custom</h3>

          <div id="algolia-menu-select-custom"></div> -->

          <h3>Toggle refinement</h3>

          <div id="algolia-toggle-refinement"></div>

          <!-- <h3>Numeric menu</h3>

          <div id="algolia-numeric-menu"></div> -->

          <!-- <h3>Range slider</h3>

          <div id="algolia-range-slider"></div> -->

          <!-- <h3>Range input</h3>

          <div id="algolia-range-input"></div> -->

          <h3>Rating menu</h3>

          <div id="algolia-rating-menu"></div>
        </div>

        <div class="right-panel">
          <div class="right-panel__results">
            <div id="algolia-searchbox"></div>

            <div class="search-meta-filters">
              <!-- <div>
                <h5>Stats</h5>
                <div id="algolia-stats"></div>
              </div> -->

              <!-- <div>
                <h5>Hits per page</h5>
                <div id="algolia-hits-per-page"></div>
              </div>

              <div>
                <h5>Custom hits per page</h5>
                <div id="algolia-hits-per-page-custom"></div>
              </div> -->

              <!-- <div>
                <h5>Sort by</h5>
                <div id="algolia-sort-by"></div>
              </div>

              <div>
                <h5>Custom sort by</h5>
                <div id="algolia-sort-by-custom"></div>
              </div> -->
            </div>

            <!-- <div class="search-meta-filters">
              <div>
                <h5>Clear refinements</h5>
                <div id="algolia-clear-refinements"></div>
              </div>

              <div>
                <h5>Current refinements</h5>
                <div id="algolia-current-refinements"></div>
              </div>
            </div> -->

            <div id="algolia-hits"></div>
          </div>

          <div id="algolia-pagination"></div>
        </div>
      </div>
    </div>
  </div>

  <script>
    setTimeout(function() {
      var persooAlgorithmID = 'df76f605499f42e092a888cc62c057ae'

      var searchPersoo = persooInstantSearch({
        // algorithmID: 'df76f605499f42e092a888cc62c057ae', // hanibal.cz (production)
        algorithmID: 'f720547c3be047b1bd55b650f3b18fa2', // hanibal.cz (test-a clone)
        indexName: 'products',
        // hideOnEmptyQuery: true,
        requestThrottlingInMs: 200, // request throttling
        urlSync: true
      })

      searchPersoo.addWidgets([
        persooInstantSearch.widgets.clearRefinements({
          // Docs: https://www.algolia.com/doc/api-reference/widgets/clear-refinements/js/
          container: '#persoo-clear-refinements',
          cssClasses: {
            root: 'persoo-clear-refinements-root',
            button: 'persoo-clear-refinements-button',
            disabledButton: 'persoo-clear-refinements-disabled-button'
          }
        }),

        persooInstantSearch.widgets.currentRefinements({
          // Docs: https://www.algolia.com/doc/api-reference/widgets/current-refinements/js/
          container: '#persoo-current-refinements',
          cssClasses: {
            root: 'persoo-refinement-root',
            list: 'persoo-refinement-list',
            item: 'persoo-refinement-item',
            label: 'persoo-refinement-label',
            category: 'persoo-refinement-category',
            categoryLabel: 'persoo-refinement-category-label',
            delete: 'persoo-refinement-delete'
          }
        }),

        persooInstantSearch.widgets.hierarchicalMenu({
          // Docs: https://www.algolia.com/doc/api-reference/widgets/hierarchical-menu/js/
          container: '#persoo-hierarchical-menu',
          limit: 7,
          showMore: true,
          attributes: [
            'category_level0',
            'category_level1',
            'category_level2'
          ]
        }),

        persooInstantSearch.widgets.hits({
          // Docs: https://www.algolia.com/doc/api-reference/widgets/hits/js/
          container: '#persoo-hits',
          cssClasses: {
            root: 'persoo-hits',
            list: ['persoo-hits-list', 'persoo-hits-list--subclass']
          },
          templates: {
            empty: 'Nebyly nalezeny žádné výsledky pro <q>{{ query }}</q>.',
            // item: `
            //   <div class="persoo-hits-item">
            //     <div class="persoo-hits-item-image">
            //       <img src="{{imageLink}}" align="{{imageLink}}" alt="{{title}}" />
            //     </div>

            //     <div class="persoo-hits-item-name">
            //       {{#helpers.highlight}}{ "attribute": "title", "highlightedTagName": "mark" }{{/helpers.highlight}}
            //       <h5>
            //         Index of item: {{ __hitIndex }}:
            //         {{#helpers.highlight}}{ "attribute": "title" }{{/helpers.highlight}}
            //       </h5>

            //       <p>Rating: {{reviewStars}}</p>

            //       <p>Temperature: {{temperatur}}</p>

            //       <h4>{{title}}</h4>
            //     </div>

            //     <div class="persoo-hits-item-description">
            //       {{#helpers.highlight}}{ "attribute": "description", "highlightedTagName": "mark" }{{/helpers.highlight}}
            //       {{description}}
            //     </div>

            //     <div class="persoo-hits-item-price">
            //       {{price}} Kč
            //     </div>
            //   </div>
            // `
            // NOTE: Version for IE
            item: "<div class=\"persoo-hits-item\"><div class=\"persoo-hits-item-image\"><img src=\"{{imageLink}}\" align=\"{{imageLink}}\" alt=\"{{title}}\" /></div><div class=\"persoo-hits-item-name\">{{#helpers.highlight}}{ \"attribute\": \"title\", \"highlightedTagName\": \"mark\" }{{/helpers.highlight}}<h5>Index of item: {{ __hitIndex }}:{{#helpers.highlight}}{ \"attribute\": \"title\" }{{/helpers.highlight}}</h5><p>Rating: {{reviewStars}}</p><p>Temperature: {{temperatur}}</p><h4>{{title}}</h4><div><div class=\"persoo-hits-item-description\">{{#helpers.highlight}}{ \"attribute\": \"description\", \"highlightedTagName\": \"mark\" }{{/helpers.highlight}}{{description}}</div><div class=\"persoo-hits-item-price\">{{price}} Kč</div></div>"
          }
        }),

        persooInstantSearch.widgets.hitsPerPage({
          // Docs: https://www.algolia.com/doc/api-reference/widgets/hits-per-page/js/
          container: '#persoo-hits-per-page',
          items: [
            { label: '8 na stránku', value: 8, default: true },
            { label: '16 na stránku', value: 16 },
            { label: '32 na stránku', value: 32 }
          ],
          cssClasses: {
            root: 'persoo-custom-per-page-root',
            toggler: 'persoo-custom-per-page-toggler',
            select: [
              'persoo-custom-per-page',
              'persoo-custom-per-page--subclass'
            ],
            item: 'persoo-custom-per-page-option'
          }
        }),

        persooInstantSearch.widgets.menu({
          // Docs: https://www.algolia.com/doc/api-reference/widgets/menu/js/
          container: '#persoo-menu',
          attribute: 'gender',
          limit: 5,
          showMore: true,
          cssClasses: {
            root: 'persoo-menu',
            list: [
              'persoo-menu-list',
              'persoo-menu-list--sub-class'
            ]
          }
        }),

        persooInstantSearch.widgets.menuSelect({
          // Docs: https://www.algolia.com/doc/api-reference/widgets/menu-select/js/
          container: '#persoo-menu-select',
          attribute: 'gender',
          limit: 5,
          showMore: true,
          cssClasses: {
            root: 'persoo-menu-select',
            list: [
              'persoo-menu-select-list',
              'persoo-menu-select-list--sub-class'
            ]
          },
          templates: {
            defaultOption: 'Zobrazit vše',
          }
        }),

        persooInstantSearch.widgets.numericMenu({
          // Docs: https://www.algolia.com/doc/api-reference/widgets/numeric-menu/js/
          container: '#persoo-numeric-menu',
          attribute: 'price',
          items: [
            { label: 'Vše' },
            { label: 'Méně než 5000 Kč', end: 5000 },
            { label: 'Mezi 5000 a 10000 Kč', start: 5000, end: 10000 },
            { label: 'Více než 10000 Kč', start: 10000 }
          ]
        }),

        persooInstantSearch.widgets.pagination({
          // Docs: https://www.algolia.com/doc/api-reference/widgets/pagination/js/
          container: '#persoo-pagination',
          cssClasses: {
            root: 'persoo-pagination',
            noRefinementRoot: 'persoo-pagination--empty',
            list: 'persoo-pagination-list',
            item: 'persoo-pagination-item',
            firstPageItem: 'persoo-pagination-first-page-item',
            lastPageItem: 'persoo-pagination-last-page-item',
            previousPageItem: 'persoo-pagination-previous-page-item',
            nextPageItem: 'persoo-pagination-next-page-item',
            pageItem: 'persoo-pagination-page-item',
            selectedItem: 'persoo-pagination-selected-item',
            disabledItem: 'persoo-pagination-disabled-item',
            link: 'persoo-pagination-link'
          }
        }),

        persooInstantSearch.widgets.poweredByCustom({
          container: '#persoo-powered-by'
        }),

        persooInstantSearch.widgets.rangeSlider({
          // Docs: https://www.algolia.com/doc/api-reference/widgets/range-slider/js/
          container: '#persoo-range-slider',
          attribute: 'price',
          tooltips: true,
          pips: false
        }),

        persooInstantSearch.widgets.rangeSlider({
          // Docs: https://www.algolia.com/doc/api-reference/widgets/range-slider/js/
          container: '#persoo-range-slider-temperature',
          attribute: 'temperatur',
          tooltips: true,
          pips: false
        }),

        // ! TODO: Implement ratingMenu component
        persooInstantSearch.widgets.ratingMenu({
          // Docs: https://www.algolia.com/doc/api-reference/widgets/rating-menu/js/
          container: '#persoo-rating-menu',
          attribute: 'reviewStars',
          max: 5,
          cssClasses: {
            root: 'persoo-rating-menu-root',
            noRefinementRoot: 'persoo-rating-menu-no-refinement-root',
            list: 'persoo-rating-menu-list',
            item: 'persoo-rating-menu-item',
            selectedItem: 'persoo-rating-menu-selected-item',
            disabledItem: 'persoo-rating-menu-disabled-item',
            starIcon: 'persoo-rating-menu-starIcon',
            fullStarIcon: 'persoo-rating-menu-full-star-icon',
            emptyStarIcon: 'persoo-rating-menu-empty-star-icon',
            label: 'persoo-rating-menu-label',
            count: 'persoo-rating-menu-count'
          }
        }),

        persooInstantSearch.widgets.rangeInput({
          // Docs: https://www.algolia.com/doc/api-reference/widgets/range-input/js/
          container: '#persoo-range-input',
          attribute: 'price',
          templates: {
            separatorText: 'do',
            submitText: 'Zobrazit'
          }
        }),

        persooInstantSearch.widgets.refinementList({
          // Docs: https://www.algolia.com/doc/api-reference/widgets/refinement-list/js/
          container: '#persoo-refinement-list',
          attribute: 'brand',
          limit: 7,
          showMore: true,
          searchable: true,
          searchableEscapeFacetValues: false
        }),

        // // persooInstantSearch.widgets.refinementListWithPanel({
        // //   container: '#refinement-list-with-panel',
        // //   attribute: 'brand'
        // // }),

        persooInstantSearch.widgets.searchBox({
          // Docs: https://www.algolia.com/doc/api-reference/widgets/search-box/js/
          container: '#persoo-searchbox'
        }),

        persooInstantSearch.widgets.sortBy({
          // Docs: https://www.algolia.com/doc/api-reference/widgets/sort-by/js/
          container: '#persoo-sort-by',
          items: [
            { label: 'Defaultní', value: 'products' },
            { label: 'Nejlevnější', value: 'products_price_asc' },
            { label: 'Nejdražší', value: 'products_price_desc' }
          ]
        }),

        persooInstantSearch.widgets.stats({
          // Docs: https://www.algolia.com/doc/api-reference/widgets/stats/js/
          container: '#persoo-stats',
          cssClasses: {
            root: 'persoo-stats-root',
            text: ['persoo-stats-text', 'persoo-stats-text--subclass']
          }
        }),

        // persooInstantSearch.widgets.toggleRefinement({
        //   // Docs: https://www.algolia.com/doc/api-reference/widgets/toggle-refinement/js/
        //   container: '#persoo-toggle-refinement',
        //   attribute: 'gender',
        //   cssClasses: {
        //     root: 'persoo-toggle-refinment-root',
        //     label: 'persoo-toggle-refinment-label',
        //     checkbox: 'persoo-toggle-refinment-checkbox',
        //     labelText: 'persoo-toggle-refinment-labelText'
        //   }
        // })

        //
        // Custom Persoo widgets
        persooInstantSearch.widgets.hitsPerPageCustom({
          container: '#persoo-hits-per-page-custom',
          items: [
            { label: '8 na stránku', value: 8, default: true },
            { label: '16 na stránku', value: 16 },
            { label: '32 na stránku', value: 32 }
          ],
          cssClasses: {
            root: 'persoo-custom-per-page-root',
            toggler: 'persoo-custom-per-page-toggler',
            select: [
              'persoo-custom-per-page',
              'persoo-custom-per-page--subclass'
            ],
            item: 'persoo-custom-per-page-option'
          }
        }),

        persooInstantSearch.widgets.sortByCustom({
          container: '#persoo-sort-by-custom',
          items: [
            { label: 'Defaultní', value: 'products' },
            { label: 'Nejlevnější', value: 'products_price_asc' },
            { label: 'Nejdražší', value: 'products_price_desc' }
          ]
        }),

        persooInstantSearch.widgets.menuSelectCustom({
          container: '#persoo-menu-select-custom',
          attribute: 'gender',
          limit: 5,
          showMore: true,
          cssClasses: {
            root: 'persoo-menu-select',
            list: [
              'persoo-menu-select-list',
              'persoo-menu-select-list--sub-class'
            ]
          },
          templates: {
            defaultOption: 'Zobrazit vše',
          }
        })
      ])


      // Demo settings for Algolia prototype
      const searchClient = algoliasearch('latency', '6be0576ff61c053d5f9a3225e2a90f76')

      const searchAlgolia = instantsearch({
        indexName: 'instant_search',
        searchClient
      })

      searchAlgolia.addWidgets([
      //   window.algoliaWidgets.hits({
      //     container: '#algolia-hits',
      //     cssClasses: {
      //       root: 'persoo-hits',
      //       list: ['persoo-hits-list', 'persoo-hits-list--subclass']
      //     },
      //     templates: {
      //       empty: 'No results for <q>{{ query }}</q>',
      //       // item: `
      //       //   <div class="persoo-hits-item">
      //       //     <div class="persoo-hits-item-image">
      //       //       <img src="{{image}}" align="left" alt="{{name}}" />
      //       //     </div>

      //       //     <div>
      //       //       {{#helpers.highlight}}{ "attribute": "name" }{{/helpers.highlight}}
      //       //     </div>

      //       //     <div>{{price}}</div>
      //       //   </>
      //       // `
      //       // NOTE: Version for IE
      //       item: "<div class=\"persoo-hits-item\"><div class=\"persoo-hits-item-image\"><img src=\"{{image}}\" align=\"left\" alt=\"{{name}}\" /></div><div>{{#helpers.highlight}}{ \"attribute\": \"name\" }{{/helpers.highlight}}</div><div>{{price}}</div></>"
      //     }
      //   }),

      //   // window.algoliaWidgets.hitsPerPage({
      //   //   container: '#algolia-hits-per-page',
      //   //   items: [
      //   //     { label: '8 hits per page', value: 8, default: true },
      //   //     { label: '16 hits per page', value: 16 }
      //   //   ]
      //   // }),

      //   // window.algoliaWidgets.numericMenu({
      //   //   // Docs: https://www.algolia.com/doc/api-reference/widgets/numeric-menu/js/
      //   //   container: '#algolia-numeric-menu',
      //   //   attribute: 'price',
      //   //   items: [
      //   //     { label: 'Vše' },
      //   //     { label: 'Méně než $500', end: 500 },
      //   //     { label: 'Mezi $500 - $1000', start: 500, end: 1000 },
      //   //     { label: 'Více než $1000', start: 1000 }
      //   //   ]
      //   // }),

      //   // window.algoliaWidgets.pagination({
      //   //   container: '#algolia-pagination',
      //   //   hitsPerPage: 12
      //   // }),

      //   // window.algoliaWidgets.rangeSlider({
      //   //   // Docs: https://www.algolia.com/doc/api-reference/widgets/range-slider/js/
      //   //   container: '#algolia-range-slider',
      //   //   attribute: 'price',
      //   //   tooltips: true,
      //   //   pips: false
      //   // }),

      //   // window.algoliaWidgets.rangeInput({
      //   //   // Docs: https://www.algolia.com/doc/api-reference/widgets/range-input/js/
      //   //   container: '#algolia-range-input',
      //   //   attribute: 'price'
      //   // }),

      //   window.algoliaWidgets.ratingMenu({
      //     // Docs: https://www.algolia.com/doc/api-reference/widgets/rating-menu/js/
      //     container: '#algolia-rating-menu',
      //     attribute: 'rating',
      //     max: 5,
      //     cssClasses: {
      //       root: 'persoo-rating-menu-root',
      //       noRefinementRoot: 'persoo-rating-menu-no-refinement-root',
      //       list: 'persoo-rating-menu-list',
      //       item: 'persoo-rating-menu-item',
      //       selectedItem: 'persoo-rating-menu-selected-item',
      //       disabledItem: 'persoo-rating-menu-disabled-item',
      //       starIcon: 'persoo-rating-menu-starIcon',
      //       fullStarIcon: 'persoo-rating-menu-full-star-icon',
      //       emptyStarIcon: 'persoo-rating-menu-empty-star-icon',
      //       label: 'persoo-rating-menu-label',
      //       count: 'persoo-rating-menu-count'
      //     }
      //   }),

        window.algoliaWidgets.refinementList({
          container: '#algolia-refinement-list',
          attribute: 'brand',
          searchable: true
        }),

      //   window.algoliaWidgets.searchBox({
      //     // Docs: https://www.algolia.com/doc/api-reference/widgets/search-box/js/
      //     container: '#algolia-searchbox'
      //   }),

      //   // window.algoliaWidgets.stats({
      //   //   // Docs: https://www.algolia.com/doc/api-reference/widgets/stats/js/
      //   //   container: '#persoo-stats',
      //   //   cssClasses: {
      //   //     root: 'persoo-stats-root',
      //   //     text: ['persoo-stats-text', 'persoo-stats-text--subclass']
      //   //   }
      //   // }),

      //   window.algoliaWidgets.toggleRefinement({
      //     // Docs: https://www.algolia.com/doc/api-reference/widgets/toggle-refinement/js/
      //     container: '#algolia-toggle-refinement',
      //     attribute: 'free_shipping',
      //     cssClasses: {
      //       root: 'persoo-toggle-refinment-root',
      //       label: 'persoo-toggle-refinment-label',
      //       checkbox: 'persoo-toggle-refinment-checkbox',
      //       labelText: 'persoo-toggle-refinment-labelText'
      //     },
      //     templates: {
      //       labelText: 'Doprava zdarma'
      //     }
      //   })
      ])

      // try {
      //   searchAlgolia.start()
      // }
      // catch(err) {
      //   console.error(err)
      // }

      try {
        searchPersoo.start()
      }
      catch(err) {
        console.error(err)
      }
    }, 1000);
  </script>

  <% preact.bodyEnd %>
</body>
</html>
